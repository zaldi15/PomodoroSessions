<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="768.0" prefWidth="1366.0" style="-fx-background-color: #021526;" stylesheets="@../css/Table.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.aplikasi.view.ManageTaskController">
    <children>
        <!-- Sidebar Navigation -->
        <VBox layoutX="0.0" layoutY="0.0" prefHeight="768.0" prefWidth="280.0" spacing="0.0" style="-fx-background-color: #03346E;">
            <children>
                <!-- App Logo/Title -->
                <VBox alignment="CENTER" prefHeight="150.0" prefWidth="280.0" style="-fx-background-color: #021526;">
                    <children>
                        <Label text="Pomodo+" textFill="#E2E2B6">
                            <font>
                                <Font name="System Bold" size="38.0" />
                            </font>
                        </Label>
                        <Label text="Stay Focused, Get Things Done" textAlignment="CENTER" textFill="#6EACDA" wrapText="true">
                            <font>
                                <Font size="13.0" />
                            </font>
                            <VBox.margin>
                                <Insets top="8.0" />
                            </VBox.margin>
                        </Label>
                    </children>
                </VBox>
                
                <!-- Navigation Label -->
                <Label text="NAVIGATION" textFill="#6EACDA">
                    <font>
                        <Font name="System Bold" size="13.0" />
                    </font>
                    <VBox.margin>
                        <Insets bottom="12.0" left="22.0" top="25.0" />
                    </VBox.margin>
                </Label>
                
                <!-- Navigation Buttons -->
                <VBox spacing="6.0">
                    <padding>
                        <Insets left="12.0" right="12.0" />
                    </padding>
                    <children>
                        <Button fx:id="btnGoToTimer" alignment="CENTER_LEFT" graphicTextGap="18.0" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGoToTimer" prefHeight="56.0" style="-fx-background-color: transparent; -fx-background-radius: 10; -fx-cursor: hand;" text="ðŸ…  Pomodoro Timer" textFill="#E2E2B6">
                            <font>
                                <Font size="16.0" />
                            </font>
                            <padding>
                                <Insets left="22.0" />
                            </padding>
                        </Button>
                        
                        <Button fx:id="btnGoToManageTask" alignment="CENTER_LEFT" graphicTextGap="18.0" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGoToManageTask" prefHeight="56.0" style="-fx-background-color: #021526; -fx-background-radius: 10; -fx-cursor: hand; -fx-border-color: #6EACDA; -fx-border-width: 0 0 0 4; -fx-border-radius: 10;" text="ðŸ“‹  Task Management" textFill="#E2E2B6">
                            <font>
                                <Font size="16.0" />
                            </font>
                            <padding>
                                <Insets left="22.0" />
                            </padding>
                        </Button>
                        
                        <Button fx:id="btnGoTracking" alignment="CENTER_LEFT" graphicTextGap="18.0" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleTracking" prefHeight="56.0" style="-fx-background-color: transparent; -fx-background-radius: 10; -fx-cursor: hand;" text="ðŸ“Š  Tracking" textFill="#E2E2B6">
                            <font>
                                <Font size="16.0" />
                            </font>
                            <padding>
                                <Insets left="22.0" />
                            </padding>
                        </Button>
                        
                    </children>
                </VBox>
                
                <!-- Spacer -->
                <VBox VBox.vgrow="ALWAYS" />
                
                <!-- Back to Menu Button -->
                <Button fx:id="btnBackToMenu" alignment="CENTER" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleBackToMenu" prefHeight="56.0" style="-fx-background-color: #6EACDA; -fx-background-radius: 10; -fx-cursor: hand;" text="â¬…ï¸  Back to Menu" textFill="#021526">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                    <VBox.margin>
                        <Insets bottom="25.0" left="12.0" right="12.0" />
                    </VBox.margin>
                </Button>
            </children>
        </VBox>
        
        <!-- Main Content Area -->
        <AnchorPane layoutX="280.0" layoutY="0.0" prefHeight="768.0" prefWidth="1086.0" style="-fx-background-color: #021526;">
            <children>
                <!-- Header Bar with Gradient -->
                <HBox alignment="CENTER_LEFT" layoutX="0.0" layoutY="0.0" prefHeight="100.0" prefWidth="1000.0" style="-fx-background-color: linear-gradient(to right, #03346E 0%, #02254a 100%);                               -fx-border-color: #6EACDA;                               -fx-border-width: 0 0 2 0;                              -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
                    <padding>
                        <Insets left="40.0" right="40.0" />
                    </padding>
                    <children>
                        <Label text="ðŸ“‹ Task Management" textFill="#E2E2B6">
                            <font>
                                <Font name="System Bold" size="30.0" />
                            </font>
                        </Label>
                        
                        <!-- Spacer -->
                        <VBox HBox.hgrow="ALWAYS" />
                        
                        <!-- Add Task Button with Modern Style -->
                        <Button fx:id="btnGoToAdd" mnemonicParsing="false" onAction="#handleAddTask" prefHeight="52.0" prefWidth="160.0" style="-fx-background-color: linear-gradient(to bottom, #6EACDA 0%, #5090c0 100%);                                         -fx-background-radius: 12;                                         -fx-cursor: hand;                                        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 8, 0, 0, 2);" text="âž• Add Task" textFill="#021526">
                            <font>
                                <Font name="System Bold" size="16.0" />
                            </font>
                        </Button>
                    </children>
                </HBox>
                
                <!-- Table Container with Modern Design -->
                <VBox layoutX="0.0" layoutY="100.0" prefHeight="700.0" prefWidth="1000.0" spacing="0.0">
                    <padding>
                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                    </padding>
                    <children>
                        <!-- âœ… SEARCH BAR & FILTERS -->
    <HBox alignment="CENTER_LEFT" spacing="18.0" style="-fx-background-color: #03346E;                                       -fx-background-radius: 12 12 0 0;                                       -fx-padding: 18 25 18 25;                                      -fx-border-color: #6EACDA;                                      -fx-border-width: 2.5 2.5 0 2.5;                                      -fx-border-radius: 12 12 0 0;">
                        <children>
                                <!-- Search Icon -->
                                <Label prefHeight="32.0" prefWidth="36.0" text=" ðŸ”" textAlignment="CENTER" textFill="#6EACDA">
                                    <font>
                                        <Font size="20.0" />
                                    </font>
                                </Label>
                                
                                <!-- Search TextField -->
                                <TextField fx:id="txtSearch" prefHeight="42.0" prefWidth="250.0" promptText="Search tasks..." style="-fx-background-color: #021526;                                                   -fx-text-fill: #E2E2B6;                                                   -fx-prompt-text-fill: #6EACDA;                                                   -fx-border-color: #6EACDA;                                                   -fx-border-radius: 10;                                                   -fx-background-radius: 10;                                                  -fx-border-width: 2;                                                  -fx-font-size: 14;                                                  -fx-padding: 6 18 6 18;">
                                </TextField>
                                
                                <!-- Clear Search Button -->
                                <Button fx:id="btnClearSearch" prefHeight="42.0" prefWidth="50.0" style="-fx-background-color: #FF6B6B;                                                 -fx-text-fill: white;                                                 -fx-border-radius: 10;                                                 -fx-background-radius: 10;                                                -fx-cursor: hand;                                                -fx-font-weight: bold;                                                -fx-font-size: 18;" text="âœ•">
                                </Button>
                                
                                <!-- Spacer -->
                                <VBox HBox.hgrow="ALWAYS" />
                                
                                <!-- Task Counter Badge -->
                                <Label fx:id="lblTaskCount" style="-fx-background-color: #021526;                                                -fx-background-radius: 18;                                                -fx-padding: 6 15 6 15;" text="0 tasks" textFill="#6EACDA">
                                    <font>
                                        <Font name="System Bold" size="13.0" />
                                    </font>
                                </Label>
                                <ComboBox fx:id="cbFilterCategory" prefHeight="42.0" prefWidth="180.0" promptText="Filter Category" style="-fx-background-color: #021526;                                                   -fx-text-fill: #E2E2B6;                                                   -fx-border-color: #6EACDA;                                                   -fx-border-radius: 10;                                                   -fx-background-radius: 10;                                                  -fx-border-width: 2;                                                  -fx-font-size: 14;" styleClass="filter-combo">
                                    
                                </ComboBox>
                            </children>
                        </HBox>
                        
                        <!-- Modern TableView with Custom Styling -->
                        <TableView fx:id="tvTasks" prefHeight="520.0" prefWidth="949.0" style="-fx-background-color: #021526;                                              -fx-background-radius: 0 0 18 18;                                              -fx-border-color: #6EACDA;                                              -fx-border-radius: 0 0 18 18;                                              -fx-border-width: 0 2.5 2.5 2.5;                                             -fx-table-cell-border-color: transparent;                                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);" stylesheets="@../css/Table.css">
                            <columns>
                                
                                <!-- Category Column with Icon -->
                                <TableColumn fx:id="colTitle" prefWidth="196.0" style="-fx-alignment: CENTER;" text="Task Name" />
                                
                                <!-- Description Column -->
                                <TableColumn fx:id="colCategory" prefWidth="141.0" style="-fx-alignment: CENTER-LEFT;" text="Category" />
                                
                                <!-- Status Column -->
                                <TableColumn fx:id="colDeadline" prefWidth="133.0" style="-fx-alignment: CENTER;" text="Deadline" />
                                
                                <!-- Actions Column -->
                                <TableColumn fx:id="colDescription" prefWidth="210.0" style="-fx-alignment: CENTER;" text="Description" />
                                <!-- Title Column -->
                                <TableColumn fx:id="colCompleted" prefWidth="94.0" style="-fx-alignment: CENTER;" text="Status" />
                                
                                <!-- Deadline Column -->
                                <TableColumn fx:id="colEditDelete" prefWidth="166.0" style="-fx-alignment: CENTER;" text="Actions" />
                            </columns>
                            <placeholder>
                                <Label style="-fx-font-size: 15; -fx-font-style: italic;" text="ðŸŽ¯ No tasks found. Try different search or filter!" textFill="#6EACDA" />
                            </placeholder>
                        </TableView>
                    </children>
                </VBox>
            </children>
        </AnchorPane>
    </children>
</AnchorPane>
